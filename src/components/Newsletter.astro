---
import { getLangFromUrl, useTranslations } from '../utils/i18n';
import { siteConfig } from '../data/config';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section class="py-20 bg-gradient-to-r from-primary-600 to-secondary-600">
  <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    <h2 class="text-4xl font-bold text-white mb-4">
      {t('newsletter.title')}
    </h2>
    <p class="text-xl text-primary-100 mb-8">
      {t('newsletter.subtitle')}
    </p>
    
    <form action={siteConfig.newsletterAction} method="POST" class="max-w-md mx-auto">
      <div class="flex flex-col sm:flex-row gap-4">
        <input 
          type="email" 
          name="email"
          placeholder={t('newsletter.placeholder')}
          class="flex-1 px-6 py-3 rounded-lg border-0 text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-accent-500"
          required
        >
        <button 
          type="submit"
          class="px-8 py-3 bg-accent-500 hover:bg-accent-600 text-white font-semibold rounded-lg transition-colors duration-300"
        >
          {t('newsletter.cta')}
        </button>
      </div>
    </form>
    
    <p class="mt-4 text-sm text-primary-100">
      {lang === 'id' ? 'Kami menghargai privasi Anda. Tidak ada spam, hanya konten berkualitas.' : 'We respect your privacy. No spam, only quality content.'}
    </p>
  </div>
</section>